{"version":3,"file":"angular-svg-nodes.min.js","sources":["angular-svg-nodes.js"],"names":["angular","module","directive","link","scope","element","attrs","$observe","value","setAttribute","restrict","index","onMouseOver","addEventListener","_","parseInt","controller","$s","BLOCK_TOP_LEFT","BLOCK_TOP","BLOCK_CENTER","BLOCK_BOTTOM","ACTION_ADD","ACTION_REMOVE","ACTION_UPDATE","INITIAL_GRID_COLS","INITIAL_GRID_ROWS","BLOCK_WIDTH","BLOCK_HEIGHT","COL_SPACING","ROW_SPACING","LABEL_SPACING","MAX_VIEWPORT_WIDTH_INCREASE","MAX_VIEWPORT_HEIGHT_INCREASE","self","this","initialized","blocks_waiting_for_connection","parent_coords","coords","blocks","bg_col_grid","bg_col_grid_hover_index","block_width","block_height","col_spacing","row_spacing","grid_col_count","grid_row_count","label_width","label_height","wrapper_style","viewport_style","viewport_width","viewport_height","viewport_viewbox","selection","source_exit_side","onNodeSelect","col_index","row_index","isUndefined","onNodeMouseDown","getExtenalEventHandlerData","columns","control","onControlNodeSelect","onBlockNodeSelect","onNodeDeselect","onNodeMouseUp","onBlockNodeDeselect","onNodeMouseOver","onControlNodeMouseOver","onBlockNodeMouseOver","onNodeMouseOut","exit_side","onControlNodeMouseOut","onBlockNodeMouseOut","addBlock","$apply","length","setNodeClass","setPotentialNodeClasses","isEqual","doesNodeHaveConnectedParents","checkActive","isNodePotential","is_target_parent","removeLine","setAsConnectedLines","setLineClass","isNull","setPotentialChildNodeClasses","setPotentialParentNodeClasses","target_coords","push","target_row_index","Math","abs","onRootDeselect","removeUnconnectedLines","onBgColGridMouseOver","onRootMouseLeave","onLineRemoveComplete","source_coords","line_index","source","lines","splice","setAsNotConnectedBlock","onLineDrawComplete","is_block_waiting_for_connection","forEach","block","setAsConnectedBlock","data_clone","clone","rows","node_clone","result","node","data","col","activateBlock","active","line","to","deactivateBlock","does_parent_have_active_nodes","doesNodeHaveActiveParents","exclude_coords","parent_row_index","parents","parent","parent_col_index","target","connected","key","child_col","child_col_index","parent_col","setViewport","cols","total_item_width","total_item_height","background-color","min-width","min-height","max-width","max-height","checkViewport","should_update_viewport","addBgGridCol","calculateColX","first_col_width","col_width","calculateColWidth","calculateRowY","row_height","calculateRowHeight","getCoords","position","total_width","total_height","x","y","addLine","source_lock_coords","target_lock_coords","from","x1","y1","x2","y2","updateLineTarget","block_has_connected_parents","block_has_active_parents","label","Error","removed_block","top_left_coords","block_lines","line_source_lock_coords","line_target_col_index","line_target_coords","line_target_lock_coords","label_x","label_y","addControl","center_coords","width","$watch","newValue","oldValue","$watchCollection","init","update","column_property_name","row","join","map","Array","old_data","has","$inject","replace","getBoundingClientRect","addClass","templateUrl","onRemoveComplete","onMoveComplete","onDrawComplete","ANIM_DURATION","is_initialized","moveLine","drawLine","TweenLite","attr","ease","Power4","easeOut","onComplete","set","onSelect","onDeselect","onMouseOut","e","element_bounds","mouse_y","clientY","element_center","top","height","constant"],"mappings":"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"}